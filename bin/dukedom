#!/usr/bin/env ruby
require "rubygems"

require "rainbow/refinement"
using Rainbow

libdir = File.join(__dir__, "..", "lib")
$LOAD_PATH.unshift(libdir) unless $LOAD_PATH.include?(libdir)

require "dukedom"

# 1. Print Banner
puts
puts "D U K E D O M".bright.green.underline
puts
puts "Ruby Version".red + " v#{Dukedom::VERSION}"
puts

# 2. Init a Ledger
ledger = Dukedom::Ledger.new

# 3. Choose a Reporter
summary_reporter = Dukedom::SummaryReporter.new(ledger)
detail_reporter = Dukedom::DetailReporter.new(ledger)

# 5. Game.start
# until Dukedom::Ledger.game_over? do
# 6. Report
puts summary_reporter.report
puts " "
puts detail_reporter.report
# 7. Make a FoodMinister
# 8. Update Ledger / End check
# 9. Make a LandMinister
# 10. Update Ledger / End check
# 10.5 => War with king? WarMinister
# 11. Make a FarmingMinister
# 12. Update Ledger
# 14. Process Disease Stuff
# 15. Increment Year
# 16. Retirement check
# end

# 18. Why did we break?
